"use strict";(self.webpackChunkListee_Angular=self.webpackChunkListee_Angular||[]).push([[37],{6037:(E,b,a)=>{a.r(b),a.d(b,{JobsModule:()=>P});var g=a(6814),_=a(5959),f=a(147),u=a(1630),m=a(2712),t=a(9468),j=a(932),v=a(7029),C=a(5648),x=a(4913),J=a(3680),h=a(95);function T(o,c){if(1&o&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&o){const n=c.$implicit;t.Q6J("value",n.name),t.xp6(1),t.hij(" ",n.name," ")}}function Z(o,c){if(1&o&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&o){const n=c.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function M(o,c){if(1&o&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&o){const n=c.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function A(o,c){if(1&o&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&o){const n=c.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}const d=function(){return{standalone:!0}};function O(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"div",16)(1,"div",4)(2,"div",3)(3,"div",17)(4,"mat-select",18),t.NdJ("selectionChange",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.changeFilter(e))})("ngModelChange",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.filter.categorie=e)}),t.TgZ(5,"mat-option",19),t._uU(6," Tout "),t.qZA(),t.YNc(7,T,2,2,"mat-option",20),t.qZA()(),t.TgZ(8,"div",17)(9,"mat-select",21),t.NdJ("selectionChange",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.changeFilter(e))})("ngModelChange",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.filter.type_contrat=e)}),t.TgZ(10,"mat-option",19),t._uU(11," Tout "),t.qZA(),t.YNc(12,Z,2,2,"mat-option",20),t.qZA()(),t.TgZ(13,"div",17)(14,"mat-select",22),t.NdJ("selectionChange",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.changeFilter(e))})("ngModelChange",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.filter.env=e)}),t.TgZ(15,"mat-option",19),t._uU(16," Tout "),t.qZA(),t.YNc(17,M,2,2,"mat-option",20),t.qZA()(),t.TgZ(18,"div",17)(19,"mat-select",23),t.NdJ("selectionChange",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.changeFilter(e))})("ngModelChange",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.filter.horaire=e)}),t.TgZ(20,"mat-option",19),t._uU(21," Tout "),t.qZA(),t.YNc(22,A,2,2,"mat-option",20),t.qZA()()()()()}if(2&o){const n=t.oxw();t.xp6(4),t.Q6J("ngModel",n.filter.categorie)("ngModelOptions",t.DdM(12,d)),t.xp6(3),t.Q6J("ngForOf",n.cats),t.xp6(2),t.Q6J("ngModel",n.filter.type_contrat)("ngModelOptions",t.DdM(13,d)),t.xp6(3),t.Q6J("ngForOf",n.contratOptions),t.xp6(2),t.Q6J("ngModel",n.filter.env)("ngModelOptions",t.DdM(14,d)),t.xp6(3),t.Q6J("ngForOf",n.envOptions),t.xp6(2),t.Q6J("ngModel",n.filter.horaire)("ngModelOptions",t.DdM(15,d)),t.xp6(3),t.Q6J("ngForOf",n.horaireOptions)}}function q(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"app-home-job-item",25),t.NdJ("click",function(){const s=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.show(s))}),t.qZA()}if(2&o){const n=c.$implicit,i=t.oxw();t.Q6J("job",n)("showApply",!1)("cjob",i.job)}}function y(o,c){1&o&&(t.TgZ(0,"i"),t._uU(1,", "),t.qZA())}function U(o,c){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,y,2,0,"i",32),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Oqu(null==n.job?null:n.job.ville),t.xp6(1),t.Q6J("ngIf",(null==n.job?null:n.job.etat)||(null==n.job?null:n.job.country))}}function w(o,c){1&o&&(t.TgZ(0,"i"),t._uU(1,", "),t.qZA())}function Q(o,c){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,w,2,0,"i",32),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Oqu(null==n.job?null:n.job.etat),t.xp6(1),t.Q6J("ngIf",null==n.job?null:n.job.country)}}function F(o,c){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Oqu(null==n.job?null:n.job.country)}}function N(o,c){if(1&o&&(t.TgZ(0,"h3"),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.AsE(" ",n.currency(null==n.job?null:n.job.salaire)," ",null==n.job?null:n.job.currency," ")}}function Y(o,c){if(1&o&&(t.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30)(5,"div",31)(6,"h5"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA(),t.TgZ(10,"p"),t.YNc(11,U,3,2,"span",32),t.YNc(12,Q,3,2,"span",32),t.YNc(13,F,2,1,"span",32),t.qZA()()(),t.TgZ(14,"div",33),t.YNc(15,N,2,2,"h3",32),t.TgZ(16,"p"),t._uU(17),t.qZA()()(),t.TgZ(18,"div",2)(19,"div",3),t._UZ(20,"div",34),t.TgZ(21,"div",34)(22,"div",35)(23,"a",36),t._uU(24," Voir Poste "),t.qZA()()()()()()(),t.TgZ(25,"div",27)(26,"div",37)(27,"span",38),t._UZ(28,"span")(29,"span")(30,"span"),t.qZA(),t.TgZ(31,"h4"),t._uU(32,"Description"),t.qZA()(),t._UZ(33,"div",39),t.qZA()()),2&o){const n=t.oxw();t.xp6(7),t.Oqu(null==n.job?null:n.job.titre_job),t.xp6(2),t.Oqu(null==n.ent?null:n.ent.name),t.xp6(2),t.Q6J("ngIf",null==n.job?null:n.job.ville),t.xp6(1),t.Q6J("ngIf",null==n.job?null:n.job.etat),t.xp6(1),t.Q6J("ngIf",null==n.job?null:n.job.country),t.xp6(2),t.Q6J("ngIf",null==n.job?null:n.job.salaire),t.xp6(2),t.Oqu(null==n.job?null:n.job.periode_salaire),t.xp6(6),t.MGl("routerLink","/details-job/",null==n.job?null:n.job.id,""),t.xp6(10),t.Q6J("innerHTML",null==n.job?null:n.job.description,t.oJD)}}function I(o,c){if(1&o&&(t.TgZ(0,"a",49),t._uU(1),t.TgZ(2,"span",50),t._uU(3,"(current)"),t.qZA()()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij("",n," ")}}function H(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"a",51),t.NdJ("click",function(e){t.CHM(n);const s=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.changePage(s,e))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij("",n," ")}}const k=function(o){return[o]};function G(o,c){if(1&o&&(t.TgZ(0,"li",46),t.YNc(1,I,4,1,"a",47),t.YNc(2,H,2,1,"a",48),t.qZA()),2&o){const n=c.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(3,k,(null==i.paginations?null:i.paginations.currentPage)==n?"active":"")),t.xp6(1),t.Q6J("ngIf",i.paginations.currentPage==n),t.xp6(1),t.Q6J("ngIf",i.paginations.currentPage!=n)}}function K(o,c){if(1&o&&(t.TgZ(0,"div",40)(1,"div",41)(2,"nav")(3,"ul",42)(4,"li",43)(5,"div",44)(6,"ul"),t.YNc(7,G,3,5,"li",45),t.qZA()()()()()()()),2&o){const n=t.oxw();t.xp6(7),t.Q6J("ngForOf",null==n.paginations?null:n.paginations.pages)}}const L=[{path:"",component:(()=>{class o{constructor(n,i,e){this.router=n,this.crud=i,this.cat=e,this.jobs=[],this.cats=[],this.filter={query:"",categorie:"",location:"",type_contrat:"",env:"",horaire:""},this.contratOptions=Object.values(u.Cu),this.envOptions=Object.values(u.tc),this.horaireOptions=Object.values(u.cg),this.salaireOptions=Object.values(u.fg),this.step=0}ngOnInit(){this.getJobs(),this.getCats()}currency(n){return(0,g.uf)(Number(n),"en-US","1.0-0")}getJobs(){const n=(0,m.Ax)("memploi","getJobs");this.crud.get(n).then(i=>{i.objs&&i.objs.length>0&&(this.jobs=i.objs.map(s=>({ent:i.ents.find(r=>r.id==s.entreprise_id),job:s})),this.jobs.length>0&&(this.job=this.jobs[0].job,this.ent=this.jobs[0].ent),this.paginations=i.pagination,console.log(i))}).catch(i=>{console.log(i.error.error.message)})}show(n){this.job=n.job,this.ent=n.ent}changePage(n,i){const e=(0,m.Ax)("memploi","getJobsFilter/"+Number(n));this.crud.post(e,1==this.step?this.filter:{},i).then(l=>{l.objs&&l.objs.length>0&&(this.jobs=l.objs.map(p=>({ent:l.ents.find(R=>R.id==p.entreprise_id),job:p})),this.jobs.length>0&&(this.job=this.jobs[0].job,this.ent=this.jobs[0].ent),this.scrollToTop(),this.paginations.currentPage=n,console.log(l))}).catch(l=>{console.log(l.error.error.message)})}scrollToTop(){window.scrollTo(0,0)}getCats(){this.cat.getCatforEnt(f.g[0]).then(n=>{this.cats=n}).catch(n=>console.log(n))}search(n){const i=(0,m.Ax)("memploi","getJobsFilterSearch");this.crud.post(i,this.filter).then(e=>{e.objs&&e.objs.length>0&&(this.jobs=e.objs.map(l=>({ent:e.ents.find(p=>p.id==l.entreprise_id),job:l})),this.jobs.length>0&&(this.job=this.jobs[0].job,this.ent=this.jobs[0].ent),this.scrollToTop(),this.paginations=e.pagination),this.step=1,console.log("SEARCH:",e)}).catch(e=>{console.log(e.error.error.message)})}changeFilter(n){const i=(0,m.Ax)("memploi","getJobsFilterSearch");this.crud.post(i,this.filter).then(e=>{e.objs&&e.objs.length>0?(this.jobs=e.objs.map(l=>({ent:e.ents.find(p=>p.id==l.entreprise_id),job:l})),this.jobs.length>0&&(this.job=this.jobs[0].job,this.ent=this.jobs[0].ent),this.scrollToTop(),this.paginations=e.pagination):this.jobs=[],this.step=1,console.log("SEARCH:",e)}).catch(e=>{console.log(e.error.error.message)})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(_.F0),t.Y36(j.I),t.Y36(v.a))};static#n=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-jobs"]],decls:21,vars:6,consts:[[1,"details-description",2,"margin-top","85px"],[1,"container"],[1,"descriptionlinks"],[1,"row"],[1,"col-lg-12"],[1,"input-block","col-md-5"],["type","text","placeholder","Rechercher",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Location",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-2"],[1,"form-control","btn","btn-primary","mbtn",3,"click"],["class","row mt-2",4,"ngIf"],[1,"details-main-wrapper"],[1,"col-lg-4"],["class","row",3,"job","showApply","cjob","click",4,"ngFor","ngForOf"],["class","col-lg-8",4,"ngIf"],["class","row mt-4",4,"ngIf"],[1,"row","mt-2"],[1,"input-block","col-md-3"],["name","type_ent","placeholder","Categorie",1,"form-control",3,"ngModel","ngModelOptions","selectionChange","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Type d'emploi",1,"form-control",3,"ngModel","ngModelOptions","selectionChange","ngModelChange"],["placeholder","Environnement",1,"form-control",3,"ngModel","ngModelOptions","selectionChange","ngModelChange"],["name","type_ent","placeholder","Horaire",1,"form-control",3,"ngModel","ngModelOptions","selectionChange","ngModelChange"],[3,"value"],[1,"row",3,"job","showApply","cjob","click"],[1,"col-lg-8"],[1,"card"],[1,"card-body"],[1,"about-details"],[1,"about-headings"],[1,"authordetails"],[4,"ngIf"],[1,"rate-details"],[1,"col-lg-6"],[1,"callnow"],[3,"routerLink"],[1,"card-header"],[1,"bar-icon"],[1,"card-body",3,"innerHTML"],[1,"row","mt-4"],[1,"blog-pagination"],[1,"pagination"],[1,"justify-content-center","pagination-center"],[1,"pagelink"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],["class","page-link",4,"ngIf"],["class","page-link",3,"click",4,"ngIf"],[1,"page-link"],[1,"visually-hidden"],[1,"page-link",3,"click"]],template:function(i,e){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",3)(6,"div",5)(7,"input",6),t.NdJ("ngModelChange",function(l){return e.filter.query=l}),t.qZA()(),t.TgZ(8,"div",5)(9,"input",7),t.NdJ("ngModelChange",function(l){return e.filter.location=l}),t.qZA()(),t.TgZ(10,"div",8)(11,"a",9),t.NdJ("click",function(l){return e.search(l)}),t._uU(12," Rechercher "),t.qZA()()()()(),t.YNc(13,O,23,16,"div",10),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",1)(16,"div",3)(17,"div",12),t.YNc(18,q,1,3,"app-home-job-item",13),t.qZA(),t.YNc(19,Y,34,9,"div",14),t.qZA(),t.YNc(20,K,8,1,"div",15),t.qZA()()),2&i&&(t.xp6(7),t.Q6J("ngModel",e.filter.query),t.xp6(2),t.Q6J("ngModel",e.filter.location),t.xp6(4),t.Q6J("ngIf",1==e.step),t.xp6(5),t.Q6J("ngForOf",e.jobs),t.xp6(1),t.Q6J("ngIf",e.job&&e.ent),t.xp6(1),t.Q6J("ngIf",e.paginations))},dependencies:[g.mk,g.sg,g.O5,_.rH,C.O,x.gD,J.ey,h.Fj,h.JJ,h.On],styles:[".mbtn[_ngcontent-%COMP%]{color:#fff}.mbtn[_ngcontent-%COMP%]:hover{color:#c10037}"]})}return o})()}];let $=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[_.Bz.forChild(L),_.Bz]})}return o})(),P=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[g.ez,$]})}return o})()}}]);