"use strict";(self.webpackChunkListee_Angular=self.webpackChunkListee_Angular||[]).push([[44],{1044:(L,h,r)=>{r.r(h),r.d(h,{EditJobModule:()=>R});var u=r(6814),v=r(4983),s=r(5959),C=r(5861),Z=r(147),f=r(8613),M=r(3988),d=r(1630),m=r(2712),e=r(9468),J=r(932),T=r(8732),j=r(7029),x=r(4913),A=r(3680),c=r(95),E=r(420);function y(n,p){if(1&n&&(e.TgZ(0,"mat-option",36),e._uU(1),e.qZA()),2&n){const t=p.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function U(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"label",32)(2,"input",37),e.NdJ("change",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.job.type_contrat=i)})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.job.type_contrat=o)}),e.qZA(),e._UZ(3,"span",34),e._uU(4),e.qZA()()}if(2&n){const t=p.$implicit,l=e.oxw();e.xp6(2),e.Q6J("ngModel",l.job.type_contrat)("value",t),e.xp6(2),e.hij(" ",t," ")}}function q(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"label",32)(2,"input",38),e.NdJ("change",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.job.env_de_travail=i)})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.job.env_de_travail=o)}),e.qZA(),e._UZ(3,"span",34),e._uU(4),e.qZA()()}if(2&n){const t=p.$implicit,l=e.oxw();e.xp6(2),e.Q6J("ngModel",l.job.env_de_travail)("value",t),e.xp6(2),e.hij(" ",t," ")}}function N(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"label",32)(2,"input",39),e.NdJ("change",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.job.horaire_de_travail=i)})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.job.horaire_de_travail=o)}),e.qZA(),e._UZ(3,"span",34),e._uU(4),e.qZA()()}if(2&n){const t=p.$implicit,l=e.oxw();e.xp6(2),e.Q6J("ngModel",l.job.horaire_de_travail)("value",t),e.xp6(2),e.hij(" ",t," ")}}function O(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"label",32)(2,"input",40),e.NdJ("change",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.job.periode_salaire=i)})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.job.periode_salaire=o)}),e.qZA(),e._UZ(3,"span",34),e._uU(4),e.qZA()()}if(2&n){const t=p.$implicit,l=e.oxw();e.xp6(2),e.Q6J("ngModel",l.job.periode_salaire)("value",t),e.xp6(2),e.hij(" ",t," ")}}function Q(n,p){if(1&n&&(e.TgZ(0,"mat-option",36),e._uU(1),e.qZA()),2&n){const t=p.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function F(n,p){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("(",t.job.periode_salaire,")")}}const b=function(){return{standalone:!0}};function w(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"div",25)(2,"label",11),e._uU(3,"Devise"),e.qZA(),e.TgZ(4,"mat-select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.job.currency=o)}),e.YNc(5,Q,2,2,"mat-option",13),e.qZA()(),e.TgZ(6,"div",25)(7,"label",42),e._uU(8,"Salaire "),e.YNc(9,F,2,1,"span",24),e.qZA(),e.TgZ(10,"input",43),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.job.salaire=o)}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.job.currency)("ngModelOptions",e.DdM(5,b)),e.xp6(1),e.Q6J("ngForOf",t.devOptions),e.xp6(4),e.Q6J("ngIf",t.job.periode_salaire),e.xp6(1),e.Q6J("ngModel",t.job.salaire)}}function H(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"label",32)(2,"input",44),e.NdJ("change",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.changeRec(i))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.job.app_Reception=o)}),e.qZA(),e._UZ(3,"span",34),e._uU(4),e.qZA()()}if(2&n){const t=p.$implicit,l=e.oxw();e.xp6(2),e.Q6J("ngModel",l.job.app_Reception)("value",t),e.xp6(2),e.hij(" ",t," ")}}function Y(n,p){1&n&&(e.TgZ(0,"div",5)(1,"h4"),e._uU(2,"Reception d'application"),e.qZA()())}function G(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"label",45),e._uU(2,"Lien du poste"),e.qZA(),e.TgZ(3,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.job.lien_to_apply=o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.job.lien_to_apply)}}function I(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"label",45),e._uU(2,"Email du poste"),e.qZA(),e.TgZ(3,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.job.email_to_apply=o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.job.email_to_apply)}}function K(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"label",45),e._uU(2,"Numero de telephone du poste"),e.qZA(),e.TgZ(3,"input",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.job.phone_to_apply=o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.job.phone_to_apply)}}const $=[{path:"",component:(()=>{class n{constructor(t,l,o,i,a){this.act=t,this.router=l,this.crud=o,this.aUI=i,this.cat=a,this.routes=f._,this.job=new d.pe,this.contratOptions=Object.values(d.Cu),this.envOptions=Object.values(d.tc),this.horaireOptions=Object.values(d.cg),this.salaireOptions=Object.values(d.fg),this.devOptions=Object.values(M.F),this.repOptions=Object.values(d.g9),this.rec=d.g9,this.cats=[],this.editorConfig={editable:!0,spellcheck:!0,minHeight:"400px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Ajouter du poste ici...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:""}}ngOnInit(){this.act.paramMap.subscribe(t=>{this.id=t.get("id"),this.getJob(this.id),this.getCats()})}getCats(){this.cat.getCatforEnt(Z.g[0]).then(t=>{this.cats=t}).catch(t=>console.log(t))}changeRec(t){this.job.app_reception=t,t==this.rec.email&&(this.job.email_to_apply=this.selectedEnt.email_contact),t==this.rec.whatsapp&&(this.job.phone_to_apply=this.selectedEnt.telephone_a)}changeEnt(){this.job.email_to_apply="",this.job.phone_to_apply=""}addJob(t){const l=(0,m.Ax)("memploi","edit/"+this.job.id);console.log(this.job),this.crud.post(l,this.job,t).then(o=>{console.log(o),this.aUI.show({active:!0,message:"Success",type:"success",pos:"top-right"})}).catch(o=>{const i=o.error.error.message;this.aUI.show({active:!0,message:i,type:"danger",pos:"top-right"}),console.log(i)})}getJob(t){var l=this;return(0,C.Z)(function*(){const o=(0,m.Ax)("memploi","cv/refresh"),a=(yield l.crud.get(o),(0,m.Ax)("memploi","getMyJob/"+t));l.crud.get(a).then(g=>{const _=g;_.date_echeance&&(_.date_echeance=g.date_echeance.split("T")[0]),l.job=_,console.log(l.job)}).catch(g=>{const _=g.error.error.message;l.aUI.show({active:!0,message:_,type:"danger",pos:"top-right"}),console.log(_)})})()}static#e=this.\u0275fac=function(l){return new(l||n)(e.Y36(s.gz),e.Y36(s.F0),e.Y36(J.I),e.Y36(T.c),e.Y36(j.a))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-listing"]],decls:124,vars:23,consts:[[1,"dashboard-content",2,"margin-top","85px"],[1,"container"],[1,"profile-content"],[1,"messages-form"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row","mb-2"],[1,"input-block","col-md-3"],["for","titre_job",1,"col-form-label"],["type","text","id","titre_job","name","titre_job","disabled","true",1,"form-control",3,"ngModel","ngModelChange"],["for","Price",1,"col-form-label"],["name","type_ent","placeholder","Categorie","disabled","true",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","date","pattern","\\d{4}/\\d{2}/\\d{2}","id","date_echeance","name","date_echeance",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-block","col-md-2"],["for","phone",1,"col-form-label"],[1,"pass-group","group-img"],["type","checkbox","id","publish","name","publish",1,"ml-4",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-md-3"],[1,"input-block","mb-0"],[4,"ngFor","ngForOf"],[1,"clearfix"],[4,"ngIf"],[1,"input-block"],[3,"config","ngModel","ngModelChange"],[1,"row","mt-4"],[1,"col-md-6"],[1,"input-block","featuresform-list","mb-0"],["class","card-header",4,"ngIf"],["class","input-block",4,"ngIf"],[1,"custom_check"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkmark"],[1,"btn","btn-primary",3,"click"],[3,"value"],["type","radio","name","type_emploie",3,"ngModel","value","change","ngModelChange"],["type","radio","name","environment_de_travail",3,"ngModel","value","change","ngModelChange"],["type","radio","name","horaire_de_travail",3,"ngModel","value","change","ngModelChange"],["type","radio","name","periode_de_salaire",3,"ngModel","value","change","ngModelChange"],["name","currenry","placeholder","Devise",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","salaire*"],["type","number","id","salaire","name","salaire",1,"form-control",3,"ngModel","ngModelChange"],["type","radio","name","app_reception",3,"ngModel","value","change","ngModelChange"],["for","lien_to_apply"],["type","text","id","lien_to_apply","name","lien_to_apply",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","lien_to_apply","name","lien_to_apply",1,"form-control",3,"ngModel","ngModelChange"],["type","phone","id","lien_to_apply","name","lien_to_apply",1,"form-control",3,"ngModel","ngModelChange"]],template:function(l,o){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4"),e._uU(7,"Informations Generales"),e.qZA()(),e.TgZ(8,"div",6)(9,"div")(10,"div",7)(11,"div",8)(12,"label",9),e._uU(13,"Titre du poste"),e.qZA(),e.TgZ(14,"input",10),e.NdJ("ngModelChange",function(a){return o.job.titre_job=a}),e.qZA()(),e.TgZ(15,"div",8)(16,"label",11),e._uU(17,"Categorie"),e.qZA(),e.TgZ(18,"mat-select",12),e.NdJ("ngModelChange",function(a){return o.job.categorie=a}),e.YNc(19,y,2,2,"mat-option",13),e.qZA()(),e.TgZ(20,"div",8)(21,"label",11),e._uU(22,"Date Echeance"),e.qZA(),e.TgZ(23,"input",14),e.NdJ("ngModelChange",function(a){return o.job.date_echeance=a}),e.qZA()(),e.TgZ(24,"div",15)(25,"label",16),e._uU(26,"Publication"),e.qZA(),e.TgZ(27,"div",17)(28,"input",18),e.NdJ("ngModelChange",function(a){return o.job.publish=a}),e.qZA()()()()()()(),e.TgZ(29,"div",4)(30,"div",19)(31,"div",20)(32,"div",5)(33,"h4"),e._uU(34,"Type d'emploi"),e.qZA()(),e.TgZ(35,"div",6)(36,"div",21)(37,"ul"),e.YNc(38,U,5,3,"li",22),e.qZA(),e._UZ(39,"div",23),e.qZA()()(),e.TgZ(40,"div",20)(41,"div",5)(42,"h4"),e._uU(43,"Environment de travail"),e.qZA()(),e.TgZ(44,"div",6)(45,"div",21)(46,"ul"),e.YNc(47,q,5,3,"li",22),e.qZA(),e._UZ(48,"div",23),e.qZA()()(),e.TgZ(49,"div",20)(50,"div",5)(51,"h4"),e._uU(52,"Horaire de Travail"),e.qZA()(),e.TgZ(53,"div",6)(54,"div",21)(55,"ul"),e.YNc(56,N,5,3,"li",22),e.qZA(),e._UZ(57,"div",23),e.qZA()()(),e.TgZ(58,"div",20)(59,"div",5)(60,"h4"),e._uU(61,"Salaire"),e.qZA()(),e.TgZ(62,"div",6)(63,"div",21)(64,"ul"),e.YNc(65,O,5,3,"li",22),e.YNc(66,w,11,6,"li",24),e.qZA(),e._UZ(67,"div",23),e.qZA()()()()(),e.TgZ(68,"div",4)(69,"div",5)(70,"h4"),e._uU(71,"Description du Poste"),e.qZA()(),e.TgZ(72,"div",6)(73,"div")(74,"div",25)(75,"angular-editor",26),e.NdJ("ngModelChange",function(a){return o.job.description=a}),e.qZA()(),e.TgZ(76,"div",27)(77,"div",28)(78,"div",5)(79,"h4"),e._uU(80,"Methode d'application"),e.qZA()(),e.TgZ(81,"div",6)(82,"div",29)(83,"ul"),e.YNc(84,H,5,3,"li",22),e.qZA(),e._UZ(85,"div",23),e.qZA()()(),e.TgZ(86,"div",28),e.YNc(87,Y,3,0,"div",30),e.TgZ(88,"div",6)(89,"div",21),e.YNc(90,G,4,1,"div",31),e.YNc(91,I,4,1,"div",31),e.YNc(92,K,4,1,"div",31),e._UZ(93,"div",23),e.qZA()()(),e.TgZ(94,"div",28)(95,"div",5)(96,"h4"),e._uU(97,"Documents exig\xe9s"),e.qZA()(),e.TgZ(98,"div",6)(99,"div",29)(100,"ul")(101,"li")(102,"label",32)(103,"input",33),e.NdJ("ngModelChange",function(a){return o.job.is_cv_require=a}),e.qZA(),e._UZ(104,"span",34),e._uU(105," CV "),e.qZA()(),e.TgZ(106,"li")(107,"label",32)(108,"input",33),e.NdJ("ngModelChange",function(a){return o.job.is_lm_require=a}),e.qZA(),e._UZ(109,"span",34),e._uU(110," Lettre de motivation "),e.qZA()(),e.TgZ(111,"li")(112,"label",32)(113,"input",33),e.NdJ("ngModelChange",function(a){return o.job.is_certificat_require=a}),e.qZA(),e._UZ(114,"span",34),e._uU(115," Certificat "),e.qZA()(),e.TgZ(116,"li")(117,"label",32)(118,"input",33),e.NdJ("ngModelChange",function(a){return o.job.is_diplome_require=a}),e.qZA(),e._UZ(119,"span",34),e._uU(120," Diplome "),e.qZA()()(),e._UZ(121,"div",23),e.qZA()()()()()()(),e.TgZ(122,"button",35),e.NdJ("click",function(a){return o.addJob(a)}),e._uU(123," Modifier "),e.qZA()()()()()),2&l&&(e.xp6(14),e.Q6J("ngModel",o.job.titre_job),e.xp6(4),e.Q6J("ngModel",o.job.categorie)("ngModelOptions",e.DdM(22,b)),e.xp6(1),e.Q6J("ngForOf",o.cats),e.xp6(4),e.Q6J("ngModel",o.job.date_echeance),e.xp6(5),e.Q6J("ngModel",o.job.publish),e.xp6(10),e.Q6J("ngForOf",o.contratOptions),e.xp6(9),e.Q6J("ngForOf",o.envOptions),e.xp6(9),e.Q6J("ngForOf",o.horaireOptions),e.xp6(9),e.Q6J("ngForOf",o.salaireOptions),e.xp6(1),e.Q6J("ngIf",o.job.periode_salaire),e.xp6(9),e.Q6J("config",o.editorConfig)("ngModel",o.job.description),e.xp6(9),e.Q6J("ngForOf",o.repOptions),e.xp6(3),e.Q6J("ngIf",o.job.app_reception&&o.job.app_reception!=o.rec.memploi),e.xp6(3),e.Q6J("ngIf",o.job.app_reception==o.rec.lien),e.xp6(1),e.Q6J("ngIf",o.job.app_reception==o.rec.email),e.xp6(1),e.Q6J("ngIf",o.job.app_reception==o.rec.whatsapp),e.xp6(11),e.Q6J("ngModel",o.job.is_cv_require),e.xp6(5),e.Q6J("ngModel",o.job.is_lm_require),e.xp6(5),e.Q6J("ngModel",o.job.is_certificat_require),e.xp6(5),e.Q6J("ngModel",o.job.is_diplome_require))},dependencies:[u.sg,u.O5,x.gD,A.ey,c.Fj,c.wV,c.Wl,c._,c.JJ,c.c5,c.On,E.s6]})}return n})()}];let D=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[s.Bz.forChild($),s.Bz]})}return n})(),R=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[u.ez,D,v.m]})}return n})()}}]);