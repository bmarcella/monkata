<div class="row">
  <div class="card">
    <div class="card-header" *ngIf="type_cv">
      <h4>Postulez maintenant</h4>
    </div>
    <div class="card-body">
      <!-- Job Title  -->
      <div class="row mb-2">
        <div class="input-block col-md-6">
          <label for="titre_job" class="col-form-label">Nom</label>
          <input
            type="text"
            [(ngModel)]="uInfo.lastName"
            class="form-control"
          />
        </div>

        <div class="input-block col-lg-6 col-md-6">
          <label for="Price" class="col-form-label">Prénom</label>
          <input
            type="text"
            [(ngModel)]="uInfo.firstName"
            class="form-control"
          />
        </div>
      </div>

      <div class="row mb-2">
        <div class="input-block col-md-6">
          <label for="titre_job" class="col-form-label">Email</label>
          <input type="text" [(ngModel)]="uInfo.email" class="form-control" />
        </div>
        <div class="input-block col-md-6">
          <label for="Price" class="col-form-label">Téléphone</label>
          <input type="text" [(ngModel)]="uInfo.phone" class="form-control" />
        </div>
      </div>

      <div class="row mb-2">
        <div class="input-block col-md-6">
          <label for="titre_job" class="col-form-label"
            >Votre domaine d'emploi principal</label
          >
          <div class="input-block">
            <mat-select
              [(ngModel)]="uInfo.doamine_1"
              [ngModelOptions]="{ standalone: true }"
              class="form-control"
              placeholder="Environnement"
            >
              <mat-option value=""> Autres </mat-option>
              <mat-option *ngFor="let c of domaines" [value]="c">
                {{ c }}
              </mat-option>
            </mat-select>
          </div>
        </div>

        <div class="input-block col-lg-6 col-md-6">
          <label for="Price" class="col-form-label"
            >Nombre d'année d'experience ?</label
          >
          <br />
          <input type="number" [(ngModel)]="uInfo.exp_1" class="form-control" />
        </div>
      </div>

      <div class="row mb-2">
        <div class="input-block col-md-6">
          <label for="titre_job" class="col-form-label"
            >Votre domaine d'emploi secondaire</label
          >
          <div class="input-block">
            <mat-select
              [(ngModel)]="uInfo.domaine_2"
              [ngModelOptions]="{ standalone: true }"
              class="form-control"
              placeholder="Environnement"
            >
              <mat-option value=""> Autres </mat-option>
              <mat-option *ngFor="let c of domaines" [value]="c">
                {{ c }}
              </mat-option>
            </mat-select>
          </div>
        </div>

        <div class="input-block col-lg-6 col-md-6">
          <label for="Price" class="col-form-label"
            >Nombre d'année d'experience ?</label
          >
          <br />
          <input type="number" [(ngModel)]="uInfo.exp_2" class="form-control" />
        </div>
      </div>

      <div class="row mb-2">
        <div class="input-block col-md-6">
          <label for="titre_job" class="col-form-label"
            >Votre domaine d'emploi facultatif</label
          >
          <div class="input-block">
            <mat-select
              [(ngModel)]="uInfo.domaine_3"
              [ngModelOptions]="{ standalone: true }"
              class="form-control"
              placeholder="Environnement"
            >
              <mat-option value=""> Autres </mat-option>
              <mat-option *ngFor="let c of domaines" [value]="c">
                {{ c }}
              </mat-option>
            </mat-select>
          </div>
        </div>

        <div class="input-block col-lg-6 col-md-6">
          <label for="Price" class="col-form-label"
            >Nombre d'année d'experience ?</label
          >
          <br />
          <input type="number" [(ngModel)]="uInfo.exp_3" class="form-control" />
        </div>
      </div>

      <div class="row mb-2">
        <div class="input-block col-md-6">
          <label for="titre_job" class="col-form-label"
            >Votre ville actuelle</label
          >
          <div class="input-block">
            <mat-select
              [(ngModel)]="uInfo.city"
              [ngModelOptions]="{ standalone: true }"
              class="form-control"
              placeholder="Environnement"
            >
              <mat-option value=""> Autres </mat-option>
              <mat-option *ngFor="let c of cities" [value]="c">
                {{ c }}
              </mat-option>
            </mat-select>
          </div>
        </div>

        <div class="input-block col-lg-6 col-md-6">
          <label for="Price" class="col-form-label"
            >Etes-vous pret a vous demenager pour un poste ?</label
          >
          <br />
          <input type="checkbox" [(ngModel)]="uInfo.relocate" />
        </div>
      </div>

      <div class="row mb-2">
        <div class="input-block col-md-6">
          <label for="titre_job" class="col-form-label"
            >Voulez-vous faire du benevolat ?</label
          >
          <br />
          <input type="checkbox" [(ngModel)]="uInfo.benevolat" />
        </div>

        <div class="input-block col-lg-6 col-md-6">
          <label for="Price" class="col-form-label"
            >Voulez-vous faire du stage ?</label
          >
          <br />
          <input type="checkbox" [(ngModel)]="uInfo.stage" />
        </div>
      </div>

      <div class="col-md-12 mb-2 mt-4">
        <hr />
        <div class="progress col-md-12 mb-2" *ngIf="progress > 0">
          <div
            class="progress-bar progress-bar-info progress-bar-striped"
            role="progressbar"
            attr.aria-valuenow="{{ progress }}"
            aria-valuemin="0"
            aria-valuemax="100"
            [ngStyle]="{ width: progress + '%' }"
          >
            {{ progress }}%
          </div>
        </div>

        <div class="profile-photo mb-2 col-md-12">
          <div class="profile-img">
            <div class="settings-upload-btn">
              <input
                (change)="onFileSelectedCV($event)"
                type="file"
                accept="pdf/*"
                class="hide-input image-upload"
                id="file"
              />
              <label for="file" class="btn btn-secondary">
                <i class="fa fa-upload"></i> Télécharger CV
              </label>
            </div>
            <div class="settings-upload-btn" *ngIf="cv">
              <label for="file" class="btn btn-secondary">
                <i class="fa fa-file"></i> {{ cv.name}}
              </label>
            </div>
          </div>
        </div>
        <div class="profile-photo mb-2 col-md-12">
          <div class="profile-img">
            <div class="settings-upload-btn">
              <input
                (change)="onFileSelectedLM($event)"
                type="file"
                accept="pdf/*"
                class="hide-input image-upload"
                id="file"
              />
              <label for="file" class="btn btn-secondary">
                <i class="fa fa-upload"></i> Télécharger Lettre motivation
              </label>
            </div>
            <div class="settings-upload-btn" *ngIf="lm">
              <label for="file" class="btn btn-secondary">
                <i class="fa fa-file"></i> {{ lm.name}}
              </label>
            </div>
          </div>
        </div>
        <hr />
        <button
          class="btn btn-outline-primary ml-4"
          style="float: right"
          [disabled]="!cv ||  !uInfo.lastName || !uInfo.firstName || !uInfo.email || !uInfo.phone"
          (click)="upload($event)"
        >
          {{ type_cv ? 'postuler' : 'Deposer' }}
        </button>
      </div>
    </div>
  </div>
</div>
